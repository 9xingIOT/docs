# 发展历程

## 梦想开始的地方

在很久很久以前，我司从传统的无线组网（2.4G、LoRa、344、蓝牙等）进入物联网领域，开始做联网设备时，经常会遇到设备组网以及设备之间相互通信的问题。
在公网下的设备，当时 IPv6 网络尚未普及，设备之间无法得知对方的地址，很难做到通信。

import Drawio from "@theme/Drawio";
import deviceGroupGraph from "!!raw-loader!./assets/images/设备组网.drawio";

<Drawio content={deviceGroupGraph} />

基于此，我司开发了第一版云平台，称之为——**透传云**平台。将连接公网的设备接入透传云平台，通过透传云可以知道任意一台接入设备的地址，这样就实现了设备之间的“**相认**”过程。
在此基础上实现了简单的设备管理功能，包括记录设备数据、设备工作状态、设备日志等功能。

## 演化升级

随着行业的繁荣以及业务的发展，我们遇到了越来越多的应用场景以及越来越多变的现实场景需求，原来的透传云平台逐渐无法满足我司业务的发展需求。

经过长时间的需求汇总，加之当时各大厂商掀起的微服务、微应用热潮，我们增加了两个系统——**数据平台**和**升级平台**。

- **数据平台**：数据平台是对外开放的数据**采集**、**控制**与**展示**平台，也可以说是我们九星云平台的`V2`版本。
- **升级平台**：升级平台给我们内部使用的，用来维护设备整个生命周期中的**参数**以及**固件更新**。

数据平台的**主要功能特点**：

1. 支持标准协议设备的接入，不仅仅是九星系列的设备，其他厂家的设备如果走标准协议都可以接入到我们的数据平台统一维护管理。
2. 支持多种**网络通信协议**（UDP、TCP、MQTT）和多种**数据协议**（Modbus RTU、Modbus TCP、JSON、Hex、XML、HJ212、DL/T645 等等）。
3. 采用通用的`物模型`的方式来实现**数据点**的抽象（很多平台也都是这种实现方式，只不过名称可能有所区别，有的叫变量模板，有的叫数据模板等），并基于数据点的数据进行**报警**、**联动**等逻辑处理。
4. 绘制了很多可视化展示大屏，优化展示效果。

在很长的一段时间里，透传云平台、数据平台和升级平台**三驾马车齐驱**的模式支持了我们业务的高速发展。

软件平台逃不过的定律就是不断更新迭代，越是功能复杂的软件，越是定位于实现大众需求的软件，其更新迭代的频率就会越快。
在不断使用过程中，我们逐渐发现了这三种平台的局限性和不友好性，以及当时需求定位的不准确性。
经过很长时间的使用体验积累，我们心中期待的物联网云平台在脑海中越来越清晰，将这些年对V2版云平台的局限性和问题点分析汇总，重构V3版！

V2版本的主要局限性和缺点举例如下：

1. **三个平台过于割裂**，有时客户需要使用透传功能，有时需要使用数据展示，就要在透传云平台和数据平台之间来回切换。
2. 有时候客户需要对设备参数的云端修改，但是参数维护功能仅仅在内部使用的升级平台可用，用户无法直接使用，需要内部员工协助配合。
3. 数据平台的**物模型功能有点令人费解**，很多客户初次使用很难理解。
4. 外部设备标准协议接入功能想法很好，但是使用频率太少，主要是和客户自研平台有关，因此在**V3版本中移除**此部分，但是**预留**了此部分设计，方便后续有需求再加回来。
5. 客户使用上位机配置了设备后，如果想接入数据平台，则必须在数据平台建立相应的物模型规则，操作了两次，过于繁复，同时还会出现两端不同步的问题。
6. ……

（PS：其他内部产生的痛点就不举例列出了）

## 破茧成蝶

基于V2版本的种种痛点，潜心打造心目中的理想平台（目前是理想的），经过三年的不断打磨，最终正式推出`V3`版本，[线上地址](https://cloud.9xing.cn)

V3版本主要改动如下：

1. **融合透传云平台、数据平台和升级平台为一体**，以数据平台为主，将透传云平台抽象成`VCOM`（**虚拟串口**）和`G2G`（**组队组透传**）功能，将升级平台抽象成**云端参数配置**和**应用/固件升级**功能。
2. 同构云端参数配置与九星配置工具，二者使用相同的组件，配置没有任何差别，并开放给所有用户使用！
3. **不在使用物模型的方式，直接解析设备运行参数**，实现一次配置！
4. 基于物联网行业复杂且差异性较大的特点，采用**数据中台**的思想，**云平台=控制台+各种行业解决方案**，其中控制台为数据中台，行业解决方案的数据来源于数据中台，但是**数据处理逻辑是不相同的**，从根本上解决需求差异化问题！
5. 提供**私有部署**解决方案和**个性化定制**方案（支持用户自己的域名、公众号、小程序等）
6. 增加**组态**功能，用户可自定义展示内容。
7. 增加**自定义大屏**功能，炫酷展示不在话下。

:::tip
云平台功能**持续开发迭代**中，更详细的功能介绍详见：[功能简介](../#功能简介)
:::